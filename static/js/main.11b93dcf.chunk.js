(this.webpackJsonptodoapp=this.webpackJsonptodoapp||[]).push([[0],{19:function(e,t,a){e.exports=a(35)},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(17),l=a.n(i),r=a(18),m=a(14),s=a(5),u=a(8);function o(e){return c.a.createElement("div",{className:"form-container"},c.a.createElement("form",null,c.a.createElement("div",{className:"name-section sect"},c.a.createElement("h4",{className:"form-header"},{A:"Task",M:"Edit"}[e.text]),c.a.createElement("div",{className:"input-field"},c.a.createElement("label",null,"Name"),c.a.createElement("input",{value:e.name,type:"text",onChange:function(t){return e.setName(t.target.value)}}))),c.a.createElement("div",{className:"time-section sect"},c.a.createElement("h4",{className:"form-header"},"Due By"),c.a.createElement("div",{className:"input-field"},c.a.createElement("label",null,"Date"),c.a.createElement("input",{value:e.date,type:"date",onChange:function(t){return e.setDate(t.target.value)}})),c.a.createElement("div",{className:"input-field"},c.a.createElement("label",null,"Time"),c.a.createElement("input",{value:e.time,type:"time",onChange:function(t){return e.setTime(t.target.value)}})))),c.a.createElement("div",{className:"button-section"},c.a.createElement("button",{onClick:function(){return e.onSave(e.id,e.name,e.time,e.date)}},"Save"),c.a.createElement("button",{onClick:e.onCancel},"Cancel"),e.deleteButton))}function d(e){var t=function(){e.deleteTask(e.id)},a=function(t,a,n,c){var i=new Date;n=n+":"+(i=i.toLocaleTimeString().split(":").join(" ").split(" ")[2]),e.saveTask(t,a,n,c)},n=function(){e.cancelTask()},i=c.a.createElement("button",{onClick:t},"Delete");return e.status?c.a.createElement(o,{text:"A",onSave:a,onCancel:n,deleteButton:null,id:e.id,time:e.time,date:e.date,name:e.name,setName:e.setName,setDate:e.setDate,setTime:e.setTime}):c.a.createElement(o,{text:"M",onSave:a,onCancel:n,onDelete:t,deleteButton:i,id:e.id,time:e.time,date:e.date,name:e.name,setName:e.setName,setDate:e.setDate,setTime:e.setTime})}function v(e){return c.a.createElement("div",{className:"task-list-container"},c.a.createElement("div",{className:"event"},c.a.createElement("div",{className:"event-name"},e.name),c.a.createElement("div",{className:"event-time"},c.a.createElement("div",{className:"event-item"},c.a.createElement("div",null,e.period[0]),c.a.createElement("div",null,"DAY")),c.a.createElement("div",{className:"event-item"},c.a.createElement("div",null,e.period[1]),c.a.createElement("div",null,"HRS")),c.a.createElement("div",{className:"event-item"},c.a.createElement("div",null,e.period[2]),c.a.createElement("div",null,"MIN")),c.a.createElement("div",{className:"event-item"},c.a.createElement("div",null,e.period[3]),c.a.createElement("div",null,"SEC")))),c.a.createElement("div",{className:"button"},c.a.createElement("button",{onClick:function(){e.manageTask(e.id)}},"manage")))}var f=a(6),p=a.n(f);function E(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(!0),o=Object(u.a)(l,2),f=o[0],E=o[1],b=Object(n.useState)([]),j=Object(u.a)(b,2),N=j[0],O=j[1],k=Object(n.useState)(""),h=Object(u.a)(k,2),T=h[0],D=h[1],g=Object(n.useState)(""),S=Object(u.a)(g,2),C=S[0],I=S[1],w=Object(n.useState)(""),y=Object(u.a)(w,2),M=y[0],B=y[1],A=Object(n.useState)(Date.now()),x=Object(u.a)(A,2),J=x[0],K=x[1];Object(n.useEffect)((function(){p.a.database().ref("todos").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(Object(s.a)(Object(s.a)({},t[n]),{},{period:[],id:n}));console.log(a),O(a)}))}),[]);var P=function(){i(!1),I(""),B(""),D(""),K(Date.now())},z=function(e){N.map((function(t){return t.id===e&&(t.time=t.time.substring(0,5),I(t.date),B(t.name),D(t.time),K(t.id)),null})),i(!0),E(!1)};Object(n.useEffect)((function(){var e=setInterval((function(){var e=N.map((function(e){var t=function(e,t){var a=e.getTime()-t.getTime();if(a<0)return[0,0,0,0];var n=Math.trunc(a/864e5),c=Math.trunc(a%864e5/36e5),i=Math.trunc(a%864e5%36e5/6e4),l=Math.trunc(a%864e5%36e5%6e4/1e3);return[n,c,i,l]}(function(e,t){var a=[e,t].join(" ").split("-").join(" ").split(":").join(" ").split(" "),n=parseInt(a[1])-1;return a.splice(1,1,String(n)),Object(r.a)(Date,Object(m.a)(a))}(e.date,e.time),new Date);return e=Object(s.a)(Object(s.a)({},e),{},{period:t})}));O(e)}),1e3);return function(){return clearInterval(e)}}));var G=a?c.a.createElement(d,{status:f,cancelTask:P,saveTask:function(e,t,a,n){if(e&&t&&a&&n){var c={id:e,name:t,date:n,time:a,period:[]};if(f)O([].concat(Object(m.a)(N),[c])),p.a.database().ref("todos").push().set(Object(s.a)({},c));else{var l=N.map((function(t){return t.id===e&&(t=Object(s.a)(Object(s.a)({},t),c)),t}));O(l),p.a.database().ref("todos/".concat(e)).set(Object(s.a)({},c))}i(!1),E(!0),I(""),B(""),D(""),K(Date.now())}else P()},deleteTask:function(e){var t=N.filter((function(t){return t.id!==e}));O(t),p.a.database().ref().child("todos").child(e).remove(),i(!1),I(""),B(""),D(""),K(Date.now())},id:J,time:T,date:C,name:M,setName:function(e){B(e)},setTime:function(e){D(e)},setDate:function(e){I(e)}}):null,H=N.map((function(e){return null===e?null:c.a.createElement(v,{id:e.id,key:e.id,name:e.name,period:e.period,manageTask:z})}));return c.a.createElement("div",{className:"task-container"},c.a.createElement("h1",{className:"task-name"},"KEEP-UP"),c.a.createElement("h3",{className:"task-button"},c.a.createElement("button",{type:"button",onClick:function(){i(!0),E(!0)}},"Add New Task")),c.a.createElement("div",null,G),H)}a(34);p.a.initializeApp({apiKey:"AIzaSyDoBGEMcIJOKjEtnu2i0aej4eVIqP1k2Sw",authDomain:"keepup-6f041.firebaseapp.com",projectId:"keepup-6f041",storageBucket:"keepup-6f041.appspot.com",messagingSenderId:"794645941978",appId:"1:794645941978:web:044edf42c16b69fb535fe3",measurementId:"G-X9FT4510H4"}),p.a.analytics(),l.a.render(c.a.createElement(E,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.11b93dcf.chunk.js.map